{"version":3,"sources":["webpack:///src/pages/create/createFast.vue","webpack:///./src/assets/images/default-dataset-logo.png","webpack:///./src/pages/create/createFast.vue?1cb7","webpack:///./src/pages/create/createFast.vue"],"names":["defaultDatasetParam","id","datasetType","title","subTitle","price","dataSize","logo","dataDesc","dataTable","fileCode","creator","fileName","useNetDisk","netDiskUrl","netDiskPassword","__webpack_exports__","name","components","tinymce","__WEBPACK_IMPORTED_MODULE_3__components_Tinymce_index__","flatGreyHead","__WEBPACK_IMPORTED_MODULE_5__components_header_flatGreyHead__","data","show","addDatasetType","addDatasetTypeName","activeHtmlName","isEdit","active","dataParam","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","showStatus","dataTypes","created","ed_dataset_id","this","$store","getters","getHeap","dataDetail","reloadDataTypes","methods","addNewDataset","_this","Object","__WEBPACK_IMPORTED_MODULE_4__api_datasets__","then","r","code","$message","message","type","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","$router","push","logoUploadSuccess","addDataType","_this2","content","catch","e","_this3","decodeURIComponent","paperIds","eval","$refs","paper","setPaperIds","createTime","Date","toISOString","substring","replace","hideAll","i","length","finishCommit","_this4","$confirm","confirmButtonText","cancelButtonText","encodeURIComponent","response","duration","back","_this5","module","exports","create_createFast","render","_vm","_h","$createElement","_c","_self","_v","staticStyle","margin-top","margin-left","margin-right","ref","attrs","label-width","label","span","size","model","value","callback","$$v","$set","expression","_l","t","ti","key","on","click","$event","display","active-color","inactive-color","active-text","inactive-text","_e","action","dataUploadPath","show-file-list","limit","on-success","uploadSuccess","trim","offset","imageUploadPath","height","width","src","fileDownloadPath","__webpack_require__","text-align","visible","close-on-click-modal","destroy-on-close","update:visible","icon","staticClass","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","createFast"],"mappings":"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","file":"static/js/8.bd0e2a9b7b60fe8b0f5a.js","sourcesContent":["<template>\n  <div>\n    <!-- 头部 -->\n    <flatGreyHead></flatGreyHead>\n\n    <!-- 表单 -->\n    <div style=\"margin-top: 50px; margin-left: 20%;margin-right: 20%;\">\n      <el-form ref=\"datasetBasicInfoForm\" label-width=\"120px\">\n\n        <!-- 数据类别 -->\n        <el-form-item label=\"数据集分类：\">\n          <el-row>\n            <el-col :span=\"15\">\n              <el-select v-model=\"dataParam.datasetType\" size=\"mini\">\n                <el-option :label=\"t.name\" :value=\"t.id\" v-for=\"(t,ti) in dataTypes\" :key=\"ti\"></el-option>\n              </el-select>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-button @click=\"show.addDatasetType=true\" size=\"mini\">新增数据类别</el-button>\n            </el-col>\n          </el-row>\n        </el-form-item>\n\n        <!-- 数据标题 -->\n        <el-form-item label=\"数据集标题：\">\n          <el-input v-model=\"dataParam.title\" size=\"mini\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"副标题：\">\n          <el-input v-model=\"dataParam.subTitle\" size=\"mini\"></el-input>\n        </el-form-item>\n\n        <!-- 数据文件位置 -->\n        <el-form-item label=\"本地上传/网盘\">\n          <el-switch style=\"display: block\" v-model=\"dataParam.useNetDisk\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" active-text=\"网盘链接\" inactive-text=\"本地上传\">\n          </el-switch>\n        </el-form-item>\n\n        <el-form-item :label=\"dataParam.useNetDisk ? '添加网盘连接':'上传数据文件'\">\n          <el-upload :action=\"dataUploadPath\" :show-file-list=\"true\" :limit=\"1\" :on-success=\"uploadSuccess\" v-if=\"!dataParam.useNetDisk\">\n            <el-button size=\"mini\">上传</el-button>\n          </el-upload>\n\n          <el-row v-if=\"dataParam.useNetDisk\">\n            <el-col :span=\"3\">\n              网盘地址\n            </el-col>\n            <el-col :span=\"8\">\n              <el-input v-model.trim=\"dataParam.netDiskUrl\" size=\"mini\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" :offset=\"1\">\n              密码\n            </el-col>\n            <el-col :span=\"4\">\n              <el-input v-model.trim=\"dataParam.netDiskPassword\" size=\"mini\"></el-input>\n            </el-col>\n          </el-row>\n        </el-form-item>\n\n        <!-- 数据文件logo -->\n        <el-form-item label=\"Logo：\">\n          <el-upload :action=\"imageUploadPath\" :show-file-list=\"false\" :on-success=\"logoUploadSuccess\">\n            <img :src=\"fileDownloadPath+'?fileCode='+dataParam.logo\" v-if=\"dataParam.logo\" style=\"height:200px; width:200px\">\n            <img src=\"../../assets/images/default-dataset-logo.png\" v-else style=\"height:200px; width:200px\">\n          </el-upload>\n        </el-form-item>\n\n        <!-- 数据文件描述 -->\n        <el-form-item label=\"数据描述：\">\n          <el-tabs v-model=\"activeHtmlName\" type=\"card\">\n            <el-tab-pane label=\"数据集详细描述\" name=\"pc\">\n              <tinymce :width=\"595\" :height=\"300\" v-model=\"dataParam.dataDesc\"></tinymce>\n            </el-tab-pane>\n            <el-tab-pane label=\"数据集参数/表格\" name=\"mobile\">\n              <tinymce :width=\"595\" :height=\"300\" v-model=\"dataParam.dataTable\"></tinymce>\n            </el-tab-pane>\n          </el-tabs>\n        </el-form-item>\n        <el-form-item style=\"text-align: center\">\n          <el-button size=\"medium\">取消</el-button>\n          <el-button type=\"primary\" size=\"medium\" @click=\"addNewDataset()\">确定</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 添加数据类型弹窗 -->\n    <el-dialog title=\"添加数据类型\" :visible.sync=\"show.addDatasetType\" width=\"60%\" :close-on-click-modal=\"false\" :destroy-on-close=\"true\">\n      <p>请输入数据类型名称</p>\n      <el-input v-model.trim=\"addDatasetTypeName\" size=\"mini\"></el-input>\n\n      <el-row style=\"margin-top:20px\">\n        <el-col :offset=\"8\">\n\n          <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"addDataType()\">确定</el-button>\n          <el-button @click=\" addDatasetTypeName='',show.addDatasetType=false\">取消\n            <i class=\"el-icon-close\"></i>\n          </el-button>\n\n        </el-col>\n\n      </el-row>\n\n    </el-dialog>\n\n  </div>\n</template>\n<script>\nimport { createProduct, getProduct, updateProduct } from \"@/api/product\";\nimport tinymce from \"@/components/Tinymce/index\";\nimport {\n  addDataset,\n  dataDetail,\n  findDatasetById,\n  editDataset,\n  getDatasetTypes,\n  addDatasetType\n} from \"@/api/datasets\";\n\nimport flatGreyHead from \"@/components/header/flatGreyHead\";\n\nconst defaultDatasetParam = {\n  id: \"\",\n  datasetType: \"\",\n  title: \"\",\n  subTitle: \"\",\n  price: \"\",\n  dataSize: \"\",\n  logo: \"\",\n  dataDesc: \"\",\n  dataTable: \"\",\n\n  fileCode: \"\",\n  creator: \"\",\n  fileName: \"\",\n  useNetDisk: true,\n  netDiskUrl: \"\",\n  netDiskPassword: \"\"\n};\n\nexport default {\n  name: \"ProductDetail\",\n  components: {\n    tinymce,\n    flatGreyHead\n  },\n\n  data() {\n    return {\n      show: {\n        addDatasetType: false\n      },\n      addDatasetTypeName: \"\",\n      activeHtmlName: \"pc\",\n      isEdit: false,\n      active: 0,\n      dataParam: Object.assign({}, defaultDatasetParam),\n      showStatus: [true, false, false, false],\n\n      dataTypes: []\n    };\n  },\n  created() {\n    // 如果读取到编辑状态\n    let ed_dataset_id = this.$store.getters.getHeap.ed_dataset_id;\n    if (ed_dataset_id) {\n      this.dataDetail(ed_dataset_id);\n      this.isEdit = true;\n    }\n\n    this.reloadDataTypes();\n  },\n  methods: {\n    // 添加新数据集\n    addNewDataset() {\n      addDataset(this.dataParam).then(r => {\n        if (r.code == 200) {\n          this.$message({\n            message: \"添加数据集成功\",\n            type: \"success\"\n          });\n          this.dataParam = { ...defaultDatasetParam };\n          this.$router.push(\"/datas\");\n        } else {\n          this.$message({\n            message: \"添加数据集失败\",\n            type: \"error\"\n          });\n        }\n      });\n    },\n    logoUploadSuccess(r) {\n      this.dataParam.logo = r.fileCode;\n    },\n    // 添加数据类别\n    addDataType() {\n      addDatasetType({ content: this.addDatasetTypeName })\n        .then(() => {\n          this.$message({ message: \"添加成功\", type: \"success\" });\n          this.reloadDataTypes();\n        })\n        .catch(e => {\n          this.$message({ message: \"添加失败\", type: \"error\" });\n        });\n\n      this.show.addDatasetType = false;\n    },\n    // 根据id获取数据集信息\n    dataDetail(id) {\n      findDatasetById({ id: id }).then(r => {\n        if (r.code == 200) {\n          this.dataParam = r.data;\n\n          // 数据详细信息和数据表格解码\n          this.dataParam.dataDesc = decodeURIComponent(this.dataParam.dataDesc);\n          this.dataParam.dataTable = decodeURIComponent(\n            this.dataParam.dataTable\n          );\n\n          // 文献信息转化为数组\n          let paperIds = eval(\"[\" + this.dataParam.paperIds + \"]\");\n          this.$refs.paper.setPaperIds(paperIds);\n\n          // 时间转化\n          this.dataParam.createTime = new Date(this.dataParam.createTime)\n            .toISOString()\n            .substring(0, 10)\n            .replace(\"-\", \"/\")\n            .replace(\"-\", \"/\");\n        }\n      });\n    },\n    hideAll() {\n      for (let i = 0; i < this.showStatus.length; i++) {\n        this.showStatus[i] = false;\n      }\n    },\n\n    finishCommit() {\n      this.$confirm(\"是否要提交该数据集\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        // 内容编码\n        this.dataParam.dataDesc = encodeURIComponent(this.dataParam.dataDesc);\n        this.dataParam.dataTable = encodeURIComponent(this.dataParam.dataTable);\n\n        // useNetDisk 字段改成0/1\n        this.dataParam.useNetDisk = this.dataParam.useNetDisk ? 1 : 0;\n\n        if (this.isEdit) {\n          editDataset(this.dataParam).then(response => {\n            this.$message({\n              type: \"success\",\n              message: \"提交成功\",\n              duration: 1000\n            });\n            this.$router.back();\n          });\n        } else {\n          addDataset(this.dataParam).then(response => {\n            this.$message({\n              type: \"success\",\n              message: \"添加成功\",\n              duration: 1000\n            });\n\n            // 重定向到所有数据页面\n\n            this.$router.push(\"/datas\");\n          });\n        }\n      });\n    },\n    // 刷新所有的数据类别\n    reloadDataTypes() {\n      getDatasetTypes().then(r => {\n        if (r.code == 200) {\n          this.dataTypes = r.data;\n        } else {\n          this.$message(\"获取数据类别出错\");\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n.form-container {\n  width: 800px;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/create/createFast.vue","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/default-dataset-logo.png\n// module id = HQ8J\n// module chunks = 8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('flatGreyHead'),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"50px\",\"margin-left\":\"20%\",\"margin-right\":\"20%\"}},[_c('el-form',{ref:\"datasetBasicInfoForm\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"数据集分类：\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":15}},[_c('el-select',{attrs:{\"size\":\"mini\"},model:{value:(_vm.dataParam.datasetType),callback:function ($$v) {_vm.$set(_vm.dataParam, \"datasetType\", $$v)},expression:\"dataParam.datasetType\"}},_vm._l((_vm.dataTypes),function(t,ti){return _c('el-option',{key:ti,attrs:{\"label\":t.name,\"value\":t.id}})}),1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.show.addDatasetType=true}}},[_vm._v(\"新增数据类别\")])],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据集标题：\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.dataParam.title),callback:function ($$v) {_vm.$set(_vm.dataParam, \"title\", $$v)},expression:\"dataParam.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"副标题：\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.dataParam.subTitle),callback:function ($$v) {_vm.$set(_vm.dataParam, \"subTitle\", $$v)},expression:\"dataParam.subTitle\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"本地上传/网盘\"}},[_c('el-switch',{staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"网盘链接\",\"inactive-text\":\"本地上传\"},model:{value:(_vm.dataParam.useNetDisk),callback:function ($$v) {_vm.$set(_vm.dataParam, \"useNetDisk\", $$v)},expression:\"dataParam.useNetDisk\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.dataParam.useNetDisk ? '添加网盘连接':'上传数据文件'}},[(!_vm.dataParam.useNetDisk)?_c('el-upload',{attrs:{\"action\":_vm.dataUploadPath,\"show-file-list\":true,\"limit\":1,\"on-success\":_vm.uploadSuccess}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"上传\")])],1):_vm._e(),_vm._v(\" \"),(_vm.dataParam.useNetDisk)?_c('el-row',[_c('el-col',{attrs:{\"span\":3}},[_vm._v(\"\\n            网盘地址\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.dataParam.netDiskUrl),callback:function ($$v) {_vm.$set(_vm.dataParam, \"netDiskUrl\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"dataParam.netDiskUrl\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"offset\":1}},[_vm._v(\"\\n            密码\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.dataParam.netDiskPassword),callback:function ($$v) {_vm.$set(_vm.dataParam, \"netDiskPassword\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"dataParam.netDiskPassword\"}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Logo：\"}},[_c('el-upload',{attrs:{\"action\":_vm.imageUploadPath,\"show-file-list\":false,\"on-success\":_vm.logoUploadSuccess}},[(_vm.dataParam.logo)?_c('img',{staticStyle:{\"height\":\"200px\",\"width\":\"200px\"},attrs:{\"src\":_vm.fileDownloadPath+'?fileCode='+_vm.dataParam.logo}}):_c('img',{staticStyle:{\"height\":\"200px\",\"width\":\"200px\"},attrs:{\"src\":require(\"../../assets/images/default-dataset-logo.png\")}})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据描述：\"}},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeHtmlName),callback:function ($$v) {_vm.activeHtmlName=$$v},expression:\"activeHtmlName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"数据集详细描述\",\"name\":\"pc\"}},[_c('tinymce',{attrs:{\"width\":595,\"height\":300},model:{value:(_vm.dataParam.dataDesc),callback:function ($$v) {_vm.$set(_vm.dataParam, \"dataDesc\", $$v)},expression:\"dataParam.dataDesc\"}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"数据集参数/表格\",\"name\":\"mobile\"}},[_c('tinymce',{attrs:{\"width\":595,\"height\":300},model:{value:(_vm.dataParam.dataTable),callback:function ($$v) {_vm.$set(_vm.dataParam, \"dataTable\", $$v)},expression:\"dataParam.dataTable\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"size\":\"medium\"}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.addNewDataset()}}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加数据类型\",\"visible\":_vm.show.addDatasetType,\"width\":\"60%\",\"close-on-click-modal\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){return _vm.$set(_vm.show, \"addDatasetType\", $event)}}},[_c('p',[_vm._v(\"请输入数据类型名称\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.addDatasetTypeName),callback:function ($$v) {_vm.addDatasetTypeName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"addDatasetTypeName\"}}),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',{attrs:{\"offset\":8}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":function($event){return _vm.addDataType()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.addDatasetTypeName='',_vm.show.addDatasetType=false}}},[_vm._v(\"取消\\n          \"),_c('i',{staticClass:\"el-icon-close\"})])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50db15ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/create/createFast.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50db15ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createFast.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createFast.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createFast.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50db15ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createFast.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/create/createFast.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}