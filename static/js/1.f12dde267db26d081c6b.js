webpackJsonp([1],{"1kS7":function(a,t){t.f=Object.getOwnPropertySymbols},CMvU:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2__api_product__=__webpack_require__("UgCr"),__WEBPACK_IMPORTED_MODULE_3__components_Tinymce_index__=__webpack_require__("5aCZ"),__WEBPACK_IMPORTED_MODULE_4__api_datasets__=__webpack_require__("3SA8"),__WEBPACK_IMPORTED_MODULE_5__components_header_flatGreyHead__=__webpack_require__("Mdjr"),defaultDatasetParam={id:"",datasetTypeId:"",title:"",subTitle:"",price:"",dataSize:"",logo:"",dataDesc:"",dataTable:"",fileCode:"",creator:"",fileName:"",useNetDisk:!0,netDiskUrl:"",netDiskPassword:""};__webpack_exports__.a={name:"ProductDetail",components:{tinymce:__WEBPACK_IMPORTED_MODULE_3__components_Tinymce_index__.a,flatGreyHead:__WEBPACK_IMPORTED_MODULE_5__components_header_flatGreyHead__.a},data:function(){return{show:{addDatasetType:!1},addDatasetTypeName:"",activeHtmlName:"pc",isEdit:!1,active:0,dataParam:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},defaultDatasetParam),showStatus:[!0,!1,!1,!1],ed:{dataset:{id:"",datasetTypeId:"",title:"",subTitle:""}},dataTypes:[]}},created:function(){this.reloadDataTypes();var a=this.$route.query.id;a&&(this.dataDetail(a),this.isEdit=!0)},methods:{datasetUploadSuccess:function(a,t){this.dataParam.fileCode=a.fileCode,this.dataParam.dataSize=a.fileSize},addNewDataset:function(){var a=this;this.dataParam.dataSize=this.fsize(this.dataParam.dataSize,"b"),Object(__WEBPACK_IMPORTED_MODULE_4__api_datasets__.a)(this.dataParam).then(function(t){200==t.code?(a.$message({message:"添加数据集成功",type:"success"}),a.dataParam=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},defaultDatasetParam),a.$router.push("/datas")):a.$message({message:"添加数据集失败",type:"error"})})},logoUploadSuccess:function(a){this.dataParam.logo=a.fileCode},addDataType:function(){var a=this;Object(__WEBPACK_IMPORTED_MODULE_4__api_datasets__.b)({content:this.addDatasetTypeName}).then(function(){a.$message({message:"添加成功",type:"success"}),a.reloadDataTypes()}).catch(function(t){a.$message({message:"添加失败",type:"error"})}),this.show.addDatasetType=!1},dataDetail:function dataDetail(id){var _this3=this;Object(__WEBPACK_IMPORTED_MODULE_4__api_datasets__.f)({id:id}).then(function(r){if(200==r.code){_this3.dataParam=r.data,_this3.dataParam.dataDesc=decodeURIComponent(_this3.dataParam.dataDesc),_this3.dataParam.dataTable=decodeURIComponent(_this3.dataParam.dataTable);var paperIds=eval("["+_this3.dataParam.paperIds+"]");_this3.$refs.paper.setPaperIds(paperIds),_this3.dataParam.createTime=new Date(_this3.dataParam.createTime).toISOString().substring(0,10).replace("-","/").replace("-","/")}})},hideAll:function(){for(var a=0;a<this.showStatus.length;a++)this.showStatus[a]=!1},finishCommit:function(){var a=this;this.$confirm("是否要提交该数据集","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.dataParam.dataDesc=encodeURIComponent(a.dataParam.dataDesc),a.dataParam.dataTable=encodeURIComponent(a.dataParam.dataTable),a.dataParam.useNetDisk=a.dataParam.useNetDisk?1:0,a.isEdit?Object(__WEBPACK_IMPORTED_MODULE_4__api_datasets__.e)(a.dataParam).then(function(t){a.$message({type:"success",message:"提交成功",duration:1e3}),a.$router.back()}):Object(__WEBPACK_IMPORTED_MODULE_4__api_datasets__.a)(a.dataParam).then(function(t){a.$message({type:"success",message:"添加成功",duration:1e3}),a.$router.push("/datas")})})},reloadDataTypes:function(){var a=this;axios.get("/datasetType/get").then(function(t){200==t.code?a.dataTypes=t.data.content:a.$message("获取数据类别出错")})}}}},Dd8w:function(a,t,e){"use strict";t.__esModule=!0;var s,i=e("woOf"),r=(s=i)&&s.__esModule?s:{default:s};t.default=r.default||function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a}},HQ8J:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAH30lEQVR42tVcbW/TPBQ9dtKXNUnXFxa0sXbkw0QL7P//AfgDgBBjGkjVBoIxoOtWNvqS58OjVFnqa18n2QBLVdfEsZ2b4+t7jm8mXrx4EaOEIoRAHJfSVOExlDEWWdaAOMe41/4NxU0Gllg4/ZsadPpc+slQbZnaUNVLP/n0+WzfVB9cg1NtuFRDRZ4451pTHcpo6d9loI1qw+XMSdV5CimquqrzHD+QratCabaeCnE6RFNjcHVwzosCE7y5fVJ1OSjV9cFBnVuWF7dFnQ1ibPpQITrPGGX6YNrKNkgqsipx0GmDBl0daoqrpqjLcW55HTEXxqqVweR88xonaySqjltWUMadjlSdItfmnUo6J7yGGF3cwEUM9xpOPU48o5smpjFSMZcSMbqlmYsYLhJtkGIzriLtrgI8av3XWZR6ktxoN/3bdV247v+x5nw+x3w+V46DWqWoaWyKb6g4aWUY6kmYEJCuRwVfqlKr1dDtdtFqteB53sooSVksFphOpxiPxzg/P8d0OgVnnKZv7nW3KMF9FN/30ev10G63tfUcx0EQBAiCALu7u5hMJjg5OcHPnz/vjcG7tnRdF/JTDk5KicePH+Phw4dGmUDlHIMgwHA4xPfv3/HhwwfMZjPjlOB8q+4p+ds1OSGOU9M5xXq9jsFggEajoeVTplBdCIFOpwPf93F4eIjJZGI9lThOfC3yvQuW2mg08Pz5c2xsbCCOY9aAs5/sgKvVKp49e4bNzc370WPKNk6lUsFwOES1WrWOXagINbnWcRwMBgO8fv0av379uhPDSC7cOKtV+u/9/X3U6/XcsZFKLri1nLounjx5AillqSvUyjAU99DxHMoXJH9vbW2tQd1WctDxm/RUffTokbZ9U7/UccmZ3+nzpvhGSom9vT0raZFrIFWbOzs7qNVqpL8y9UldJ7NSQ/pDyQu6wT548GDNr9ylGO44DsIw1I6XY+ysHaRN1MtBTBiG967oq/q05WokYjh+xIQY13Xh+/69G6ZWq8HzvEJifhYxrk6TsDkGAEEQrFaJ+y7NZhNXV1csPYYjmbq2IrPuaWxsbOBPlWzfXEGequ9yaDsXjjZOt+yiCiRLiXyL7ujZGPIuiu2GoSkCL0XztdFi7qpwImvTxqESMbYcRlV+//5dGElcVc7UN3cGaDfcdITN5oZUhC6vkK7SabLRbPp8tu/CPkal+XI4jQphiUaSJnZJPV1WRR5SmTaSEAIXFxeFfIyV5ms7r+fzOS4vL9FsNtmDUz0YE1qzqLq5ucHV1ZX1LoXuvqWJiWa5k+4YAHz9+tU62tRNKZMfAoCzszPlbgXF/zj3K20UNd2x5Pvbt29KJ2yDymRwaURRN7dcLvHlyxdlf5RiwLlfyeFApmmRPrdcLjEajcgb5+gxnIyspJyenuL6+po0ri5RQfctKTjpGqfkifR0Go/HuZZPm5VsOp3i9PRUKzFwCXH2W+pgZvPJXnt0dISbm5s7EdkTR//+/XssFgujZMmdTunz0iRMcT9Zq89mM7x9+3bN35QRHS8WCxweHmI6nVo5VNN0Sp93OTlueXnSdDrFmzdvMBgMbrHfIsaZzWZ49+4dJpNJaZxNKztwnSJ3Lifl+voar169QhRFhdW9Hz9+4Pj4GLPZTBt42vgpqzQQW/HahLTlconPnz+jXq+vgj/bcnl5idFotNqeLZPMqsQ68fLly9gGFbZlc3MTu7u7uQ2SLRcXFzg5OVlb9fKOn0yA5uxF55mnjUYDURSVvpXabDbx9OlTjMdjfPz4cZUiQnG+vDPBCjHcdPWdnR30+/07f08gjmOMRiN8+vSJTQ5NCUNaaZObwpVlvI7jYH9/35j/UqZqt7e3h2aziaOjo1VMoxunjhKkC5nny41l0prrwcEB2u22dRps0dJut3FwcLCm+3JTYUkSmY78bKPfRKFP0j2U85WpzBfdJUinnNgghSSROj5h4kvVahXD4fBWZgM3yNJlNNgaTQiBer2+Sj0xcTxTXzKLFhvZQUqJwWCwMorKyXFfpLCVJSgjJxlcUkprvqSMfPOUKIoQBIEVi7bZaM9DLoUQCIIAURTh+Pg4v+abl7dsbW0hDMM//h4kVcIwxHg8xtnZWT7D5EFMpVJBFEW5nKdtSn4e7pPUjaII4/EYs9nMepySGoguIu73+6hUKrn5iO3KlHe6VyoV9Pt99oqkNYxJqPY8LxdLLnO30qaNMAzheZ51CpqkkoEoxPR6vVJf0rrrNoQQ6PV6SpFc91tSQriqc8/zCof7togpw5DtdnuVgE1p1WSqGWXB9A1tb28XHuifeAFdCIHt7W2tT8nGOdKkfa6WL9dFt9vF314ow3e7XTiOw9aGJSc6jOMYnU5n7fWZv7GQaR2ui06nA+79Sg6fSF5w+NdLp9MB935Z711LKdFqtf55w7RaLQghsFwu+ZGvzin6vg/Hcf6Jm9fdh+M48H1fu/VixZWCIMj1gpdOh9WhtOg5XZ0gCNZyabSIoThLHMeFkpqpgRZ9AzaPAxZCwPd9VsjgcrTeJDhSPRmdYsdFmA2qbJO0s2NsNBosw5OvF6dLrVZjEc10Cpgp+zpdJ5sHY4MaHTlVBaq1Wk37j3xWC44xQ9p1IaXU6ram8JqiHSppk+tguTmCa+kdUirjMZJEUmhI5AWdPmub+2YrNZheCaKUABWahBC3JBOKLP8HIY+G3xmMV5IAAAAASUVORK5CYII="},KxPy:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("CMvU"),i={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("flatGreyHead"),a._v(" "),s("div",{staticStyle:{"margin-top":"50px","margin-left":"20%","margin-right":"20%"}},[s("el-form",{ref:"datasetBasicInfoForm",attrs:{"label-width":"120px"}},[s("el-form-item",{attrs:{label:"数据集分类："}},[s("el-row",[s("el-col",{attrs:{span:15}},[s("el-select",{attrs:{size:"mini"},model:{value:a.dataParam.datasetTypeId,callback:function(t){a.$set(a.dataParam,"datasetTypeId",t)},expression:"dataParam.datasetTypeId"}},a._l(a.dataTypes,function(a,t){return s("el-option",{key:t,attrs:{label:a.name,value:a.id}})}),1)],1),a._v(" "),a._e()],1)],1),a._v(" "),s("el-form-item",{attrs:{label:"数据集标题："}},[s("el-input",{attrs:{size:"mini"},model:{value:a.dataParam.title,callback:function(t){a.$set(a.dataParam,"title",t)},expression:"dataParam.title"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"副标题："}},[s("el-input",{attrs:{size:"mini"},model:{value:a.dataParam.subTitle,callback:function(t){a.$set(a.dataParam,"subTitle",t)},expression:"dataParam.subTitle"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"本地上传/网盘"}},[s("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"网盘链接","inactive-text":"本地上传"},model:{value:a.dataParam.useNetDisk,callback:function(t){a.$set(a.dataParam,"useNetDisk",t)},expression:"dataParam.useNetDisk"}})],1),a._v(" "),s("el-form-item",{attrs:{label:a.dataParam.useNetDisk?"添加网盘连接":"上传数据文件"}},[a.dataParam.useNetDisk?a._e():s("el-upload",{attrs:{action:a.dataUploadPath,"show-file-list":!0,limit:1,"on-success":a.datasetUploadSuccess}},[s("el-button",{attrs:{size:"mini"}},[a._v("上传")])],1),a._v(" "),a.dataParam.useNetDisk?s("el-row",[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{placeholder:"网盘地址",size:"mini"},model:{value:a.dataParam.netDiskUrl,callback:function(t){a.$set(a.dataParam,"netDiskUrl","string"==typeof t?t.trim():t)},expression:"dataParam.netDiskUrl"}})],1),a._v(" "),s("el-col",{attrs:{span:4,offset:1}},[s("el-input",{attrs:{placeholder:"密码",size:"mini"},model:{value:a.dataParam.netDiskPassword,callback:function(t){a.$set(a.dataParam,"netDiskPassword","string"==typeof t?t.trim():t)},expression:"dataParam.netDiskPassword"}})],1),a._v(" "),s("el-col",{attrs:{span:4,offset:1}},[s("el-input",{attrs:{size:"mini",placeholder:"文件大小"},model:{value:a.dataParam.dataSize,callback:function(t){a.$set(a.dataParam,"dataSize","string"==typeof t?t.trim():t)},expression:"dataParam.dataSize"}})],1)],1):a._e()],1),a._v(" "),s("el-form-item",{attrs:{label:"Logo："}},[s("el-upload",{attrs:{action:a.imageUploadPath,"show-file-list":!1,"on-success":a.logoUploadSuccess}},[a.dataParam.logo?s("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:a.fileDownloadPath+"?fileCode="+a.dataParam.logo}}):s("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:e("HQ8J")}})])],1),a._v(" "),s("el-form-item",{attrs:{label:"数据描述："}},[s("el-tabs",{attrs:{type:"card"},model:{value:a.activeHtmlName,callback:function(t){a.activeHtmlName=t},expression:"activeHtmlName"}},[s("el-tab-pane",{attrs:{label:"数据集详细描述",name:"pc"}},[s("tinymce",{attrs:{width:595,height:300},model:{value:a.dataParam.dataDesc,callback:function(t){a.$set(a.dataParam,"dataDesc",t)},expression:"dataParam.dataDesc"}})],1),a._v(" "),s("el-tab-pane",{attrs:{label:"数据集参数/表格",name:"mobile"}},[s("tinymce",{attrs:{width:595,height:300},model:{value:a.dataParam.dataTable,callback:function(t){a.$set(a.dataParam,"dataTable",t)},expression:"dataParam.dataTable"}})],1)],1)],1),a._v(" "),s("el-form-item",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{size:"medium"}},[a._v("取消")]),a._v(" "),s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return a.addNewDataset()}}},[a._v("确定")])],1)],1)],1),a._v(" "),s("el-dialog",{attrs:{title:"添加数据类型",visible:a.show.addDatasetType,width:"60%","close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(t){return a.$set(a.show,"addDatasetType",t)}}},[s("p",[a._v("请输入数据类型名称")]),a._v(" "),s("el-input",{attrs:{size:"mini"},model:{value:a.addDatasetTypeName,callback:function(t){a.addDatasetTypeName="string"==typeof t?t.trim():t},expression:"addDatasetTypeName"}}),a._v(" "),s("el-row",{staticStyle:{"margin-top":"20px"}},[s("el-col",{attrs:{offset:8}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return a.addDataType()}}},[a._v("确定")]),a._v(" "),s("el-button",{on:{click:function(t){a.addDatasetTypeName="",a.show.addDatasetType=!1}}},[a._v("\n          取消\n          "),s("i",{staticClass:"el-icon-close"})])],1)],1)],1)],1)},staticRenderFns:[]};var r=function(a){e("Nt+o")},n=e("VU/8")(s.a,i,!1,r,null,null);t.default=n.exports},NpIQ:function(a,t){t.f={}.propertyIsEnumerable},"Nt+o":function(a,t){},R4wc:function(a,t,e){var s=e("kM2E");s(s.S+s.F,"Object",{assign:e("To3L")})},To3L:function(a,t,e){"use strict";var s=e("+E39"),i=e("lktj"),r=e("1kS7"),n=e("NpIQ"),o=e("sB3e"),d=e("MU5D"),_=Object.assign;a.exports=!_||e("S82l")(function(){var a={},t={},e=Symbol(),s="abcdefghijklmnopqrst";return a[e]=7,s.split("").forEach(function(a){t[a]=a}),7!=_({},a)[e]||Object.keys(_({},t)).join("")!=s})?function(a,t){for(var e=o(a),_=arguments.length,l=1,c=r.f,m=n.f;_>l;)for(var u,p=d(arguments[l++]),f=c?i(p).concat(c(p)):i(p),P=f.length,b=0;P>b;)u=f[b++],s&&!m.call(p,u)||(e[u]=p[u]);return e}:_},UgCr:function(a,t,e){"use strict";e("vLgD")},V3tA:function(a,t,e){e("R4wc"),a.exports=e("FeBl").Object.assign},woOf:function(a,t,e){a.exports={default:e("V3tA"),__esModule:!0}}});